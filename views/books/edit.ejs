<div class="row">
    <div class="col-md-8 mx-auto">
        <h2><i class="fas fa-edit"></i> Edit Book</h2>
        
        <div class="card">
            <div class="card-body">
                <form action="/books/<%= book.id %>?_method=PUT" method="POST">
                    <div class="mb-3">
                        <label for="title" class="form-label">
                            <i class="fas fa-book"></i> Title *
                        </label>
                        <input type="text" class="form-control" id="title" name="title" 
                               value="<%= book.title %>" required>
                    </div>
                    
                    <div class="mb-3">
                        <label for="author" class="form-label">
                            <i class="fas fa-user"></i> Author *
                        </label>
                        <input type="text" class="form-control" id="author" name="author" 
                               value="<%= book.author %>" required>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="published_year" class="form-label">
                                    <i class="fas fa-calendar"></i> Published Year *
                                </label>
                                <input type="number" class="form-control" id="published_year" name="published_year" 
                                       min="1000" max="<%= new Date().getFullYear() %>" 
                                       value="<%= book.published_year %>" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="genre" class="form-label">
                                    <i class="fas fa-tag"></i> Genre *
                                </label>
                                <select class="form-control" id="genre" name="genre" required>
                                    <option value="">Select a genre</option>
                                    <option value="Fiction" <%= book.genre === 'Fiction' ? 'selected' : '' %>>Fiction</option>
                                    <option value="Non-Fiction" <%= book.genre === 'Non-Fiction' ? 'selected' : '' %>>Non-Fiction</option>
                                    <option value="Mystery" <%= book.genre === 'Mystery' ? 'selected' : '' %>>Mystery</option>
                                    <option value="Romance" <%= book.genre === 'Romance' ? 'selected' : '' %>>Romance</option>
                                    <option value="Science Fiction" <%= book.genre === 'Science Fiction' ? 'selected' : '' %>>Science Fiction</option>
                                    <option value="Fantasy" <%= book.genre === 'Fantasy' ? 'selected' : '' %>>Fantasy</option>
                                    <option value="Biography" <%= book.genre === 'Biography' ? 'selected' : '' %>>Biography</option>
                                    <option value="History" <%= book.genre === 'History' ? 'selected' : '' %>>History</option>
                                    <option value="Self-Help" <%= book.genre === 'Self-Help' ? 'selected' : '' %>>Self-Help</option>
                                    <option value="Technology" <%= book.genre === 'Technology' ? 'selected' : '' %>>Technology</option>
                                    <option value="Other" <%= book.genre === 'Other' ? 'selected' : '' %>>Other</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="description" class="form-label">
                            <i class="fas fa-align-left"></i> Description
                        </label>
                        <textarea class="form-control" id="description" name="description" rows="4" 
                                  placeholder="Enter a brief description of the book (optional)"><%= book.description || '' %></textarea>
                    </div>
                    
                    <div class="d-flex gap-2">
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-save"></i> Update Book
                        </button>
                        <a href="/books/<%= book.id %>" class="btn btn-secondary">
                            <i class="fas fa-times"></i> Cancel
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
